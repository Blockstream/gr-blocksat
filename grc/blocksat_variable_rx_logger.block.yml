# auto-generated by grc.converter

id: variable_rx_logger
label: Receiver Logger
category: '[Blockstream Satellite]/Tools'

parameters:
-   id: samp_rate
    label: Sample Rate
    dtype: raw
-   id: snr_meter
    label: SNR
    dtype: raw
    default: None
-   id: snr_log_period
    label: Log Period (sec)
    dtype: real
    default: '1'
-   id: frame_synchronizer
    label: Frame Sync
    dtype: raw
    default: None
-   id: frame_sync_log_period
    label: Log Period (sec)
    dtype: real
    default: '1'
-   id: decoder
    label: Decoder (BER)
    dtype: raw
    default: None
-   id: ber_log_period
    label: Log Period (sec)
    dtype: real
    default: '1'
-   id: cfo_rec
    label: CFO Recovery
    dtype: raw
    default: None
-   id: cfo_log_period
    label: Log Period (sec)
    dtype: real
    default: '1'
-   id: phase_rec
    label: Phase Recovery
    dtype: raw
    default: None
-   id: enabled_start
    label: Enabled Start
    dtype: int
    default: '1'
-   id: value
    label: Initial Value
    dtype: raw
    default: '0'
    hide: part
value: ${ value }

templates:
    imports: import blocksat
    var_make: self.${id} = ${id} = ${value}
    make: self.${id} = blocksat.rx_logger(${samp_rate}, ${snr_meter}, ${snr_log_period}, ${frame_synchronizer}, ${frame_sync_log_period}, ${decoder}, ${ber_log_period}, ${cfo_rec}, ${cfo_log_period}, ${phase_rec}, ${enabled_start}, (None if not hasattr(self, 'set_fs_label') else self.set_fs_label), (None if not hasattr(self, 'set_ber_label') else self.set_ber_label), (None if not hasattr(self, 'set_freq_offset_label') else self.set_freq_offset_label))
    callbacks:
    - self.set_${id}(${value})

documentation: |-
    Blocksat Receiver Logger

    Collects metrics from various gr-blocksat blocks and logs them periodically into
    the console.

    Also helps with GUI label updates for GUI-based receivers. Assumes that
    variables "fs_label" and "ber_label" are defined in the flowgraph for the frame
    synchronization state and the bit error rate stats, respectively. Automatically
    passes the setter for these variables into the actual "Rx Logger" work function.

file_format: 1
