# auto-generated by grc.converter

id: variable_tuning_control_def
label: Tuning Control
category: '[Blockstream Satellite]/Synchronizers'

parameters:
-   id: samp_rate
    label: Sample Rate
    dtype: raw
-   id: sps
    label: Samples Per Symbol
    dtype: real
    default: '1'
-   id: M
    label: Constellation Order
    dtype: int
-   id: scan_mode
    label: Scan Mode
    dtype: bool
-   id: n_steps
    label: No. Steps
    dtype: int
-   id: poll_interval
    label: Poll Interval (sec)
    dtype: real
    default: '1'
-   id: scan_interval
    label: Scan Interval (sec)
    dtype: real
    default: '1'
-   id: frame_synchronizer
    label: Frame Sync Obj
    dtype: raw
    default: None
-   id: cfo_rec
    label: CFO Rec Obj
    dtype: raw
    default: None
-   id: logger
    label: Logger Obj
    dtype: raw
    default: None
-   id: freq_gui_label
    label: Freq GUI Label
    dtype: raw
    default: None
-   id: value
    label: Initial Value
    dtype: raw
    default: '0'
    hide: part
value: ${ value }

templates:
    imports: import blocksat
    var_make: self.${id} = ${id} = ${value}
    make: self.${id} = blocksat.tuning_control(${samp_rate}, ${sps}, ${M}, ${scan_mode}, ${n_steps}, ${poll_interval}, ${scan_interval}, ${frame_synchronizer}, ${cfo_rec}, ${logger}, ${freq_gui_label}, self.get_freq, self.set_freq)
    callbacks:
    - self.set_${id}(${value})

documentation: |-
    Tuning Control

    Controls the RF center frequency tuning.

    This block can operate in two distinct modes:

    1) Frequency scan mode;
    2) Runtime frequency control mode.

    The former is activated whenever the *Scan Mode* parameter is True.

    In scan mode, the block sweeps the desired range of frequencies and stops once
    the Blockstream Satellite signal is found. Meanwhile, in the runtime control
    mode, the block continuously checks the need for an update to the center
    frequency in the SDR RF interface and executes the update in case it detects the
    need for, based on CFO estimations.

file_format: 1
